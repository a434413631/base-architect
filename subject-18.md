## 第十八章节 应用日志
一套完善的系统是必须要有日志来支撑其健壮度的 开发测试阶段时 能直接反映出现的问题故障的排查 能及时的调节问题的故障  
发生任何问题时 日志在第一时间可以反映出其问题的描述 可让运维开发排查问题定位问题所在

### 1.1 日志等级
在java日志中 一般分为trace<debug<info<warn<error<fatel这几个等级  
开发环境一般打出最细的粒度的trace级别以上的日志 测试环境一般打出debug级别以上的日志 生产环境则打出info级别以上日志  
等级说明:  
1) trace 一般用于框架类辅助类代码可使用其日志打印详细启动过程或运行过程 通常情况下 在业务程序中不使用 业务代码请使用debug  
2) debug 一般用于调试程序 断点输出使用以及逻辑走向追踪代码 也可用于做代码注释 标示其功能作用且在运行时能展示其结果等  
3) warn 指定具有潜在危害的情况 一般用于会有问题的地方 但无法确定是否会发生异常 但也不影响其运行的情况 使用范围如弃用的方法 配置参数未配 文件找不到 版本过低等  
4) info 指定能够突出在粗粒度级别的应用程序运行情况的信息的消息 用于在线上环境需要打印的流程性日志或必要性日志 如支付流程 下单流程等 一些非程序错误也可打印在此日志级别 比如支付余额不足 库存不足等  
5) error 错误事件可能仍然允许应用程序继续运行 一般用于捕获异常的信息记录 业务逻辑错误 数据库查询过慢等上的问题也可打印在此日志级别  
6) fatel 指定非常严重的错误事件或操作系统层面的错误 这可能导致应用程序中止 无法控制此等级的日志输出 一般由底层直接抛出打印或直接终止程序  

### 1.2 集中化日志收集平台
日志集中化管理平台  定制所需的日志 并汇总 分析和搜索重要数据日志 Kibana平台上管理日志 可分级分项目 所需日志的建立索引提供快速查询 logstash 收集 过滤 清洗 传输到需储存的媒介或消息中间件 cache/db/elasticsearch elasticsearch 基于lucene的搜索引擎 类似solr 可与Kibana logstash无缝结合

### 1.3 日志工具
对传统slf4j+logback/slf4j+log4j2的日志工具再进行封装 使其通过开关可进行动态切换日志等级 更方便的让运维开发排查问题定位问题所在
