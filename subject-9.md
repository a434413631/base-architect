## 第九章节 编译部署
应用服务在各环境进行编译部署  

### 9.1 一键部署
通过预先设置好的参数跟脚本或工具以及配置 达到点击一次按钮 编译业务应用代码 执行单元测试 并把编译后文件部署到所对应的容器 从而达到持续部署与滚动更新   
场景例子:    
1) 通过tag号 直接拉取代码 根据生成出的配置文件 进行编译 并把编译后文件上传至容器上并启动  
2) 灰度场景下 通过按钮 一键下线不参与负载 并通过按钮一键上线 并放量快速测试节点  
3) 滚动更新 滚动进度查询 滚动历史记录 回滚历史版本  

### 9.2 热部署
通过不重启应用服务 达到新的功能代码能够动态的部署到应用服务  
场景例子:  
1) 更新配置文件/配置中心配置更改  
2) 重新加载/刷新本地缓存  
3) 加载动态编译的代码/模块

### 9.3 灰度部署
保证应用的可用性 再不停止服务的情况下能继续使用服务且能进行更新 通过应用节点 下线其中一台机器不参与负载(可不下) 关闭流量 关闭服务 尝试对此节点进行上线 通过控量放量 来观察新版本在真实环境中是否有错误及性能问题的情况 然后进行ABTest 放量进行测试  成功后切换资源并释放闲置资源  
场景例子:  
1) 伪上线/沙箱环境与上线环境切换  
2) 不下线老版本资源 只上线新的版本 如无问题 再释放老版本的资源  
3) 通过路由层来路由到具体的版本或新上线的应用  

### 9.4 多版本差异节点部署
参照第五章 应用版本